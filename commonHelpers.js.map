{"version":3,"file":"commonHelpers.js","sources":["../src/js/pixabay-api.js","../src/js/render-functions.js","../src/main.js"],"sourcesContent":["export default function fetchURL(userInput) {\n  var API_KEY = '44071670-df551d8a467c5c77b993c0d31';\n\n  var URL = `https://pixabay.com/api/?key=${API_KEY}&q=${userInput}&image_type=photo&orientation=horizontal&safesearch=true`;\n\n  return fetch(URL, {\n    method: 'GET',\n  })\n    .then(response => {\n      if (!response.ok) {\n        throw new Error(response.status);\n      }\n      return response.json();\n    })\n    .then(values => {\n      return values;\n    })\n    .catch(error => console.log('--Error--:', error));\n}\n","export default function createGallery(images) {\n  const gallery = document.querySelector('.gallery');\n\n  const imgHtmlElems = images\n    .map(elem => {\n      return `\n        <li class=\"gallery-item\">\n          <a class=\"gallery-link\" href=\"${elem.largeImageURL}\">\n            <img class=\"gallery-img\" src=\"${elem.webformatURL}\" alt=\"${elem.tags}\">\n          </a>\n          <ul class=\"info\">\n            <li class=\"info-item\">\n              <h2 class=\"info-title\">Likes</h2>\n              <p class=\"info-value\">${elem.likes}</p>\n            </li>\n            <li class=\"info-item\">\n              <h2 class=\"info-title\">Views</h2>\n              <p class=\"info-value\">${elem.views}</p>\n            </li>\n            <li class=\"info-item\">\n              <h2 class=\"info-title\">Comments</h2>\n              <p class=\"info-value\">${elem.comments}</p>\n            </li>\n            <li class=\"info-item\">\n              <h2 class=\"info-title\">Downloads</h2>\n              <p class=\"info-value\">${elem.downloads}</p>\n            </li>\n          </ul>\n        </li>`;\n    })\n    .join('');\n  gallery.innerHTML = imgHtmlElems;\n}\n","import fetchURL from './js/pixabay-api';\nimport createGallery from './js/render-functions';\nimport iziToast from 'izitoast';\nimport 'izitoast/dist/css/iziToast.min.css';\nimport SimpleLightbox from 'simplelightbox';\nimport 'simplelightbox/dist/simple-lightbox.min.css';\n\nconst form = document.querySelector('form');\nconst imageSearchInput = document.querySelector('input');\nconst gallerySimpleLightbox = new SimpleLightbox('.gallery a');\nconst loader = document.querySelector('.loader');\nconst gallery = document.querySelector('.gallery');\n\nform.addEventListener('submit', event => {\n  event.preventDefault();\n  if (imageSearchInput.value === '') {\n    iziToastInfo('Please, enter the query value');\n    return;\n  }\n  gallery.innerHTML = '';\n  showLoadingIndicator();\n  fetchURL(imageSearchInput.value)\n    .then(values => {\n      hideLoadingIndicator();\n      if (values.totalHits == 0) {\n        iziToastInfo(\n          'Sorry, there are no images matching your search query. Please try again!'\n        );\n        return;\n      }\n      createGallery(values.hits);\n      gallerySimpleLightbox.refresh();\n    })\n    .catch(error => {\n      iziToastInfo('Server is not responding. Please try again later.');\n      console.log('--Error:--', error);\n    });\n});\n\nfunction iziToastInfo(message) {\n  iziToast.info({\n    timeout: 2000,\n    position: 'topRight',\n    message: `${message}`,\n  });\n}\n\nfunction showLoadingIndicator() {\n  loader.style.display = 'block';\n}\n\nfunction hideLoadingIndicator() {\n  loader.style.display = 'none';\n}\n"],"names":["fetchURL","userInput","API_KEY","URL","response","values","error","createGallery","images","gallery","imgHtmlElems","elem","form","imageSearchInput","gallerySimpleLightbox","SimpleLightbox","loader","event","iziToastInfo","showLoadingIndicator","hideLoadingIndicator","message","iziToast"],"mappings":"6vBAAe,SAASA,EAASC,EAAW,CAC1C,IAAIC,EAAU,qCAEVC,EAAM,gCAAgCD,CAAO,MAAMD,CAAS,2DAEhE,OAAO,MAAME,EAAK,CAChB,OAAQ,KACZ,CAAG,EACE,KAAKC,GAAY,CAChB,GAAI,CAACA,EAAS,GACZ,MAAM,IAAI,MAAMA,EAAS,MAAM,EAEjC,OAAOA,EAAS,MACtB,CAAK,EACA,KAAKC,GACGA,CACR,EACA,MAAMC,GAAS,QAAQ,IAAI,aAAcA,CAAK,CAAC,CACpD,CClBe,SAASC,EAAcC,EAAQ,CAC5C,MAAMC,EAAU,SAAS,cAAc,UAAU,EAE3CC,EAAeF,EAClB,IAAIG,GACI;AAAA;AAAA,0CAE6BA,EAAK,aAAa;AAAA,4CAChBA,EAAK,YAAY,UAAUA,EAAK,IAAI;AAAA;AAAA;AAAA;AAAA;AAAA,sCAK1CA,EAAK,KAAK;AAAA;AAAA;AAAA;AAAA,sCAIVA,EAAK,KAAK;AAAA;AAAA;AAAA;AAAA,sCAIVA,EAAK,QAAQ;AAAA;AAAA;AAAA;AAAA,sCAIbA,EAAK,SAAS;AAAA;AAAA;AAAA,cAI/C,EACA,KAAK,EAAE,EACVF,EAAQ,UAAYC,CACtB,CCzBA,MAAME,EAAO,SAAS,cAAc,MAAM,EACpCC,EAAmB,SAAS,cAAc,OAAO,EACjDC,EAAwB,IAAIC,EAAe,YAAY,EACvDC,EAAS,SAAS,cAAc,SAAS,EACzCP,EAAU,SAAS,cAAc,UAAU,EAEjDG,EAAK,iBAAiB,SAAUK,GAAS,CAEvC,GADAA,EAAM,eAAc,EAChBJ,EAAiB,QAAU,GAAI,CACjCK,EAAa,+BAA+B,EAC5C,MACD,CACDT,EAAQ,UAAY,GACpBU,IACAnB,EAASa,EAAiB,KAAK,EAC5B,KAAKR,GAAU,CAEd,GADAe,IACIf,EAAO,WAAa,EAAG,CACzBa,EACE,0EACV,EACQ,MACD,CACDX,EAAcF,EAAO,IAAI,EACzBS,EAAsB,QAAO,CACnC,CAAK,EACA,MAAMR,GAAS,CACdY,EAAa,mDAAmD,EAChE,QAAQ,IAAI,aAAcZ,CAAK,CACrC,CAAK,CACL,CAAC,EAED,SAASY,EAAaG,EAAS,CAC7BC,EAAS,KAAK,CACZ,QAAS,IACT,SAAU,WACV,QAAS,GAAGD,CAAO,EACvB,CAAG,CACH,CAEA,SAASF,GAAuB,CAC9BH,EAAO,MAAM,QAAU,OACzB,CAEA,SAASI,GAAuB,CAC9BJ,EAAO,MAAM,QAAU,MACzB"}